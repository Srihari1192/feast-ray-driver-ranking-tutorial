project: driver_ranking
registry: data/registry.db
provider: local

# ---------------------------------------------------------
# Ray Offline Store Configuration (Python SDK reads this)
# ---------------------------------------------------------
offline_store:
  type: ray
  storage_path: data/ray_storage

  broadcast_join_threshold_mb: 25
  max_parallelism_multiplier: 1
  target_partition_size_mb: 16
  enable_ray_logging: false


# ---------------------------------------------------------
# Ray Compute Engine for materialization
# ---------------------------------------------------------
batch_engine:
  type: ray.engine
  max_workers: 2
  enable_optimization: true
  broadcast_join_threshold_mb: 50
  target_partition_size_mb: 32
  window_size_for_joins: "1H"


# ---------------------------------------------------------
# Online Store: Redis (must match Feast Operator)
# ---------------------------------------------------------
online_store:
  type: redis
  redis_type: redis
  connection_string: "redis://redis.test-feast-ray.svc.cluster.local:6379"

entity_key_serialization_version: 3
